<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>test</title>
<!--    <style>-->
<!--        *{-->
<!--            font-size: 50px;-->
<!--        }-->
<!--    -->
<!--    .btn{height:80px; width:80%; padding: 0px 30px; background-color: #0071E7; border: solid 1px #0071E7; border-radius:5px; font-size: 1em; color: white}-->
<!--    </style>-->

	<script>

	// js响应html页面方法
	function onBtnNoneParamClicked() {
        window.webkit.messageHandlers.onNoneParam.postMessage(null);
    }

	function onBtnOneParamClicked() {
        window.webkit.messageHandlers.onOneParam.postMessage('aka');
    }

	function onBtnTwoParamClicked() {
        window.webkit.messageHandlers.onTwoParams.postMessage(['aka','man']);
    }

	</script>
</head>
<body>
    
    <script>
       function setupWebViewJavascriptBridge(callback) {
            if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }
            if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }
            window.WVJBCallbacks = [callback];
            var WVJBIframe = document.createElement('iframe');
            WVJBIframe.style.display = 'none';
            WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';
            document.documentElement.appendChild(WVJBIframe);
            setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)
        }
    
    setupWebViewJavascriptBridge(function(bridge) {
                                 //1 注册JS的方法给OC
                                 bridge.registerHandler('noneParam', function(data, responseCallback) {
                                                        alert('没有参数')
                                                        })
                                 bridge.registerHandler('oneParam', function(data, responseCallback) {
                                                        alert('一个参数 ' + data )
                                                        
                                                        })
                                 bridge.registerHandler('twoParams', function(data, responseCallback) {
                                                        alert('name:' + data['name'] + ', sex:' + data['sex'] + '!!')
                                                        })
                                 })
                                 
        </script>

    <div id="noneParam"></div>
	<div>
        <button class="btn" type="button" onclick="onBtnNoneParamClicked()">没有参数</button>
	</div>
    <br/>

    <div id="oneParam"></div>
	<div>
		<button class="btn" type="button" onclick="onBtnOneParamClicked()">一个参数</button>
	</div>
    <br/>

    <div id="twoParam"></div>
	<div>
		<button class="btn" type="button" onclick="onBtnTwoParamClicked()">两个参数</button>
	</div>
    <br/>

</body>
</html>
